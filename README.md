# Статический HTTP-сервер на C с thread pool и epoll

## Описание проекта
Высокопроизводительный статический HTTP-сервер на языке C с использованием архитектуры **thread pool + epoll** для эффективной обработки одновременных соединений. Сервер предназначен для отдачи статического контента (HTML, CSS, JS, изображения) с поддержкой методов GET и HEAD, обработкой ошибок и базовыми мерами безопасности.

## Ключевые особенности
- **Архитектура**: Thread pool + epoll для эффективного мультиплексирования
- **Поддерживаемые методы**: GET, HEAD
- **Коды состояния**: 200 (OK), 403 (Forbidden), 404 (Not Found), 405 (Method Not Allowed)
- **Максимальный размер файла**: до 128 МБ
- **Производительность**: Оптимизирован для высоких нагрузок
- **Безопасность**: Базовая валидация запросов и контроль доступа

## Технологический стек
- **Язык программирования**: C (стандарт C11)
- **Сетевые технологии**: TCP/IP, HTTP/1.1, сокеты (BSD sockets)
- **Механизмы мультиплексирования**: epoll (Linux)
- **Многопоточность**: POSIX threads (pthread)
- **Системные вызовы**: socket(), bind(), listen(), accept(), epoll_create1(), epoll_ctl(), epoll_wait()
- **Тестирование**: ApacheBenchmark (ab), сравнение с Nginx

## Структура проекта

├── src/                    # Исходный код сервера

│   ├── server.c           # Основная логика сервера

│   ├── thread_pool.c      # Реализация пула потоков

│   ├── http_handler.c     # Обработка HTTP-запросов

│   └── utils.c           # Вспомогательные функции

├── config/                # Конфигурационные файлы

├── tests/                 # Тесты и нагрузочное тестирование

├── docs/                  # Документация (РПЗ, схемы)

└── Dockerfile            # Конфигурация для Docker

## Сравнение производительности
В ходе нагрузочного тестирования (2500 запросов, файл 3 МБ) реализованный сервер показал:
- **Средняя скорость передачи**: 1.65 МБ/с
- **Обработка запросов в секунду**: 87.5 req/s
- **Сравнение с Nginx**: 95% от производительности Nginx при аналогичных условиях

## Сборка и запуск

### Сборка проекта
```bash
mkdir build && cd build
cmake ..
make
```
### Запуск сервера
```bash
./static_server -p 8080 -d /path/to/content -t 8
```
## Параметры командной строки
- `-p PORT` - порт сервера (по умолчанию: 8080)
- `-d DIRECTORY` - корневая директория с контентом
- `-t THREADS` - количество потоков в пуле (по умолчанию: 4)
- `-l LOGFILE` - файл для логирования

## Требования
- Linux (для работы с epoll)
- Компилятор с поддержкой C11 (gcc/clang)
- Docker (для тестирования в контейнере)

## Документация
Полная документация доступна в файле `ИУ7-73Б-Сёмина-Анна-КомпСети-РПЗ.pdf`, включая:
- Анализ предметной области (TCP, HTTP, сокеты, мультиплексирование)
- Проектирование архитектуры
- Описание реализации
- Результаты нагрузочного тестирования
- Сравнение с Nginx

## Применение в реальных условиях
Проект демонстрирует глубокое понимание:
- Сетевого программирования на низком уровне
- Архитектур высоконагруженных систем
- Оптимизации производительности серверов
- Многопоточного программирования и синхронизации
- Обработки HTTP-протокола

---

*Проект выполнен в рамках курсовой работы в МГТУ им. Н.Э. Баумана, факультет "Информатика и системы управления"*
